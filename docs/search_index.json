[["index.html", "Introduction to Geographic Information Systems 1 Introduction", " Introduction to Geographic Information Systems Aditya Ranganath 2022-02-03 1 Introduction library(tidyverse) "],["loading-data.html", "2 Loading data", " 2 Loading data co_traffic_stops&lt;-read_csv(&quot;https://www.dropbox.com/s/r7oydximjp46ylh/co_statewide_2020_04_01.csv?dl=1&quot;) ## ## ── Column specification ───────────────────────────────────────────────────────────────────────────────────────── ## cols( ## .default = col_character(), ## date = col_date(format = &quot;&quot;), ## time = col_logical(), ## subject_age = col_double(), ## arrest_made = col_logical(), ## citation_issued = col_logical(), ## warning_issued = col_logical(), ## contraband_found = col_logical(), ## search_conducted = col_logical() ## ) ## ℹ Use `spec()` for the full column specifications. co_traffic_stops ## # A tibble: 3,112,853 x 20 ## raw_row_number date time location county_name subject_age subject_race subject_sex officer_id_hash ## &lt;chr&gt; &lt;date&gt; &lt;lgl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 1947986|19479… 2013-06-19 NA 19, I70… Mesa County 26 hispanic male b942632983 ## 2 1537576 2012-08-24 NA 254, H2… Jefferson … NA &lt;NA&gt; &lt;NA&gt; f3d4f46927 ## 3 1581594 2012-09-23 NA 115, I7… Logan Coun… 52 white male 6e49e2fbc8 ## 4 1009205 2011-08-25 NA 197, H8… Douglas Co… 32 white female eaea851669 ## 5 1932619 2013-06-08 NA 107, H2… Kiowa Coun… 33 hispanic male d18e34d749 ## 6 1179436 2011-12-23 NA 48, 384… Boulder Co… NA &lt;NA&gt; &lt;NA&gt; b84c696aed ## 7 1326795 2012-04-07 NA 0, R250… Boulder Co… 39 white male 4c0279748e ## 8 1786795 2013-03-03 NA 19, E47… Arapahoe C… 44 white female e6b5b9bb98 ## 9 1552164 2012-09-02 NA 224, H2… Park County NA &lt;NA&gt; &lt;NA&gt; 43f1f150d3 ## 10 1004281|10042… 2011-08-21 NA R2000, … Adams Coun… 32 hispanic male dd2f10b6f8 ## # … with 3,112,843 more rows, and 11 more variables: officer_sex &lt;chr&gt;, type &lt;chr&gt;, violation &lt;chr&gt;, ## # arrest_made &lt;lgl&gt;, citation_issued &lt;lgl&gt;, warning_issued &lt;lgl&gt;, outcome &lt;chr&gt;, contraband_found &lt;lgl&gt;, ## # search_conducted &lt;lgl&gt;, search_basis &lt;chr&gt;, raw_Ethnicity &lt;chr&gt; # Select 2010 Observations; first, create &quot;year&quot; field co_traffic_stops&lt;-co_traffic_stops %&gt;% mutate(Year=substr(co_traffic_stops$date, 1,4)) # Select 2010 Observations; filter based on year co_traffic_stops_2010&lt;-co_traffic_stops %&gt;% filter(Year==2010) co_traffic_stops_2010 ## # A tibble: 470,284 x 21 ## raw_row_number date time location county_name subject_age subject_race subject_sex officer_id_hash ## &lt;chr&gt; &lt;date&gt; &lt;lgl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 188721|188722 2010-04-17 NA 2, 989,… Montezuma … 16 white female b737c978e4 ## 2 187958 2010-04-17 NA 991, 32 Montezuma … 54 white male 89066a8ce8 ## 3 188451 2010-04-17 NA 9, 280,… Montezuma … 49 hispanic male 7346f3aeb5 ## 4 186989|186990… 2010-04-17 NA 3, 277,… Montezuma … 16 white male 3c174e7733 ## 5 186997|186998… 2010-04-17 NA 3, 277,… Montezuma … 37 white male 3c174e7733 ## 6 186993|186994… 2010-04-17 NA 3, 277,… Montezuma … 39 white male 3c174e7733 ## 7 600865 2010-12-21 NA 164.5, … Mineral Co… 110 &lt;NA&gt; &lt;NA&gt; 0e48f16a6a ## 8 600477 2010-12-21 NA 163, 29… Mineral Co… 110 &lt;NA&gt; &lt;NA&gt; c85c943fb9 ## 9 36625|36626 2010-01-20 NA 312, H5… Pueblo Cou… 45 hispanic male 5054b33e13 ## 10 275 2010-01-01 NA 127, H2… Chaffee Co… 17 white female 750fd84f12 ## # … with 470,274 more rows, and 12 more variables: officer_sex &lt;chr&gt;, type &lt;chr&gt;, violation &lt;chr&gt;, ## # arrest_made &lt;lgl&gt;, citation_issued &lt;lgl&gt;, warning_issued &lt;lgl&gt;, outcome &lt;chr&gt;, contraband_found &lt;lgl&gt;, ## # search_conducted &lt;lgl&gt;, search_basis &lt;chr&gt;, raw_Ethnicity &lt;chr&gt;, Year &lt;chr&gt; # Compute county-level count of traffic stops by race co_county_summary&lt;-co_traffic_stops_2010 %&gt;% group_by(county_name) %&gt;% count(subject_race) # Reshape &quot;co_county_summary&quot; to make racial categories into separate fields co_county_summary&lt;-co_county_summary %&gt;% spread(subject_race, n) %&gt;% rename(&quot;NA&quot;=&quot;&lt;NA&gt;&quot;) # Generate field containing information on total number of stops co_county_summary&lt;-co_county_summary %&gt;% rowwise() %&gt;% mutate(total_stops=sum(c_across(where(is.integer)), na.rm=TRUE)) # Make a new dataset based on &quot;co_county_summary&quot; that selects only the &quot;county_name&quot;, #&quot;black&quot;, and &quot;total_stops&quot; variables, then renames &quot;black&quot; as &quot;black_stops&quot; #(to avoid confusion with census measures), and then deletes the record in which &quot;county_name&quot; is &quot;NA&quot; co_county_summary_black_stops&lt;-co_county_summary %&gt;% select(county_name, black, total_stops) %&gt;% rename(black_stops=black) %&gt;% filter(county_name!=&quot;NA&quot;) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
